# http/1.0和http/1.1和http/2.0区别

## HTTP1.0 HTTP 1.1主要区别
**长连接**
HTTP 1.0需要使用keep-alive参数来告知服务器端要建立一个长连接，而HTTP1.1默认支持长连接。
HTTP是基于TCP/IP协议的，创建一个TCP连接是需要经过三次握手的,有一定的开销，如果每次通讯都要重新建立连接的话，对性能有影响。因此最好能维持一个长连接，可以用个长连接来发多个请求。
**节约带宽**
HTTP 1.1支持只发送header信息(不带任何body信息)，如果服务器认为客户端有权限请求服务器，则返回100，否则返回401。客户端如果接受到100，才开始把请求body发送到服务器。
这样当服务器返回401的时候，客户端就可以不用发送请求body了，节约了带宽。
另外HTTP还支持传送内容的一部分。这样当客户端已经有一部分的资源后，只需要跟服务器请求另外的部分资源即可。这是支持文件断点续传的基础。
**HOST域**H
现在可以web server例如tomat，设置虚拟站点是非常常见的，也即是说，web server上的多个虚拟站点可以共享同一个ip和端口。
HTTP1.0是没有host域的，HTTP1.1才支持这个参数。
http协议老的标准是http/1.0，目前最通用的标准是http/1.1
## HTTP1.1 HTTP 2.0主要区别
**多路复用**
HTTP2.0使用了(类似epoll)多路复用的技术，做到同一个连接并发处理多个请求，而且并发请求的数量比HTTP1.1大了好几个数量级。
当然HTTP1.1也可以多建立几个TCP连接，来支持处理更多并发的请求，但是创建TCP连接本身也是有开销的。
TCP连接有一个预热和保护的过程，先检查数据是否传送成功，一旦成功过，则慢慢加大传输速度。因此对应瞬时并发的连接，服务器的响应就会变慢。所以最好能使用一个建立好的连接，并且这个连接可以支持瞬时并发的请求。
**数据压缩**
HTTP1.1不支持header数据的压缩，HTTP2.0使用HPACK算法对header的数据进行压缩，这样数据体积小了，在网络上传输就会更快。
**服务器推送**
意思是说，当我们对支持HTTP2.0的web server请求数据的时候，服务器会顺便把一些客户端需要的资源一起推送到客户端，免得客户端再次创建连接发送请求到服务器端获取。这种方式非常合适加载静态资源。
服务器端推送的这些资源其实存在客户端的某处地方，客户端直接从本地加载这些资源就可以了，不用走网络，速度自然是快很多的。
**二进制分帧**
http采用二进制格式传输数据，而非http1.x的文本格式，解析更高效，将请求和相应的数据分成更小的帧，采用二进制代码，http2.0中，同域名下所有通信都在单个连接完成，该链接可以承载任意数量的双向数据流，每个数据流都以消息的形式发送，而消息又由一个或多个帧组成，多个帧之间可以乱序，最后根据帧首部来进行拼接，这也是多路复用同时发送数据的实现条件。
**http1.0**只保持短暂的连接，浏览器的每次请求都需要与服务器建立一个TCP连接。但是最新的htpp1.0中加入的长连接，只需要在客户端给服务器发送的http报文头部加入Connection：keep-alive
**http1.1**支持持久连接，默认进行持久连接，在一个TCP连接上可以传送多个HTTP请求和相应，减少了建立和关闭连接的消耗和延迟
**http2.0**加入了多路复用，二进制分帧，首部压缩，服务器推送
